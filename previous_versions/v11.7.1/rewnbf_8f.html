<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-bufr: rewnbf.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NCEPLIBS-bufr<span id="projectnumber">&#160;11.7.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('rewnbf_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">rewnbf.f File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="rewnbf_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a70ac3a628bb020054246ff3fb8392a96"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewnbf_8f.html#a70ac3a628bb020054246ff3fb8392a96">rewnbf</a> (LUNIT, ISR)</td></tr>
<tr class="memdesc:a70ac3a628bb020054246ff3fb8392a96"><td class="mdescLeft">&#160;</td><td class="mdescRight">THIS SUBROUTINE, DEPENDING ON THE VALUE OF ISR, WILL EITHER: 1) STORE THE CURRENT PARAMETERS ASSOCIATED WITH A BUFR FILE CONNECTED TO LUNIT (READ/WRITE POINTERS, ETC.), SET THE FILE STATUS TO READ, THEN REWIND THE BUFR FILE AND POSITION IT SUCH THAT THE NEXT BUFR MESSAGE READ WILL BE THE FIRST MESSAGE IN THE FILE CONTAINING ACTUAL SUBSETS WITH DATA; OR 2) RESTORE THE BUFR FILE CONNECTED TO LUNIT TO THE PARAMETERS IT HAD PRIOR TO 1) ABOVE USING THE INFORMATION SAVED IN 1) ABOVE.  <a href="rewnbf_8f.html#a70ac3a628bb020054246ff3fb8392a96">More...</a><br /></td></tr>
<tr class="separator:a70ac3a628bb020054246ff3fb8392a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>WOOLLEN </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003-11-04 </dd></dl>

<p class="definition">Definition in file <a class="el" href="rewnbf_8f_source.html">rewnbf.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a70ac3a628bb020054246ff3fb8392a96" name="a70ac3a628bb020054246ff3fb8392a96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70ac3a628bb020054246ff3fb8392a96">&#9670;&nbsp;</a></span>rewnbf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine rewnbf </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUNIT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ISR</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>THIS SUBROUTINE, DEPENDING ON THE VALUE OF ISR, WILL EITHER: 1) STORE THE CURRENT PARAMETERS ASSOCIATED WITH A BUFR FILE CONNECTED TO LUNIT (READ/WRITE POINTERS, ETC.), SET THE FILE STATUS TO READ, THEN REWIND THE BUFR FILE AND POSITION IT SUCH THAT THE NEXT BUFR MESSAGE READ WILL BE THE FIRST MESSAGE IN THE FILE CONTAINING ACTUAL SUBSETS WITH DATA; OR 2) RESTORE THE BUFR FILE CONNECTED TO LUNIT TO THE PARAMETERS IT HAD PRIOR TO 1) ABOVE USING THE INFORMATION SAVED IN 1) ABOVE. </p>
<p >THIS ALLOWS INFORMATION TO BE EXTRACTED FROM A PARTICULAR SUBSET IN A BUFR FILE WHICH IS IN THE MIDST OF BEING READ FROM OR WRITTEN TO BY AN APPLICATION PROGRAM. NOTE THAT FOR A PARTICULAR BUFR FILE 1) ABOVE MUST PRECEDE 2) ABOVE. AN APPLICATION PROGRAM MIGHT FIRST CALL THIS SUBROUTINE WITH ISR = 0, THEN CALL EITHER BUFR ARCHIVE LIBRARY SUBROUTINE RDMGSB OR UFBINX TO GET INFO FROM A SUBSET, THEN CALL THIS ROUTINE AGAIN WITH ISR = 1 TO RESTORE THE POINTERS IN THE BUFR FILE TO THEIR ORIGINAL LOCATION. ALSO, BUFR ARCHIVE LIBRARY SUBROUTINE UFBTAB WILL CALL THIS ROUTINE IF THE BUFR FILE IT IS ACTING UPON IS ALREADY OPEN FOR INPUT OR OUTPUT.</p>
<p >PROGRAM HISTORY LOG: 2003-11-04 J. WOOLLEN &ndash; ORIGINAL AUTHOR (WAS IN VERIFICATION VERSION BUT MAY HAVE BEEN IN THE PRODUCTION VERSION AT ONE TIME AND THEN REMOVED) 2003-11-04 D. KEYSER &ndash; UNIFIED/PORTABLE FOR WRF; ADDED DOCUMENTATION; OUTPUTS MORE COMPLETE DIAGNOSTIC INFO WHEN ROUTINE TERMINATES ABNORMALLY 2004-08-09 J. ATOR &ndash; MAXIMUM MESSAGE LENGTH INCREASED FROM 20,000 TO 50,000 BYTES 2009-03-23 J. ATOR &ndash; MODIFIED TO HANDLE EMBEDDED BUFR TABLE (DICTIONARY) MESSAGES 2011-09-26 J. WOOLLEN &ndash; FIXED BUG TO PREVENT SKIP OF FIRST DATA MESSAGE AFTER REWIND 2012-09-15 J. WOOLLEN &ndash; MODIFIED FOR C/I/O/BUFR INTERFACE; REPLACE FORTRAN REWIND WITH C CEWIND 2014-12-10 J. ATOR &ndash; USE MODULES INSTEAD OF COMMON BLOCKS</p>
<p >USAGE: CALL REWNBF (LUNIT, ISR) INPUT ARGUMENT LIST: LUNIT - INTEGER: FORTRAN LOGICAL UNIT NUMBER FOR BUFR FILE ISR - INTEGER: SWITCH: 0 = store current parameters associated with BUFR file, set file status to read, rewind file such that next message read is first message containing subset data 1 = restore BUFR file with parameters saved from the previous call to this routine with ISR=0</p>
<p >INPUT FILES: UNIT "LUNIT" - BUFR FILE</p>
<p >REMARKS: THIS ROUTINE CALLS: BORT I4DY READMG STATUS WTSTAT CEWIND THIS ROUTINE IS CALLED BY: UFBINX UFBTAB Also called by application programs. </p>

<p class="definition">Definition at line <a class="el" href="rewnbf_8f_source.html#l00064">64</a> of file <a class="el" href="rewnbf_8f_source.html">rewnbf.f</a>.</p>

<p class="reference">References <a class="el" href="bort_8f.html#a488d3a8cf930fb592a9fdaefcfa04ac4">bort()</a>, <a class="el" href="cread_8c.html#a36a8ba0032660f65aadb84295bcccc41">cewind()</a>, <a class="el" href="i4dy_8f.html#a112153e4ebaab35d9d95d7a29534f48b">i4dy()</a>, <a class="el" href="namespacemoda__bitbuf.html#a983cdfefb8e99f7ede13ce9f979bea3e">moda_bitbuf::mbay</a>, <a class="el" href="namespacemoda__bitbuf.html#a6bac74e064b4a8512f7f2599d0588dd3">moda_bitbuf::mbyt</a>, <a class="el" href="readmg_8f.html#a9fb3da32fb87bc017d16b9f0f707be9b">readmg()</a>, <a class="el" href="status_8f.html#a22292e7a69c411a961168198d259f336">status()</a>, and <a class="el" href="wtstat_8f.html#a82676f83ff365e03ad827ed5ba0af1ae">wtstat()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ufbinx_8f.html#ac8a380b1f26c05540ca3993fb2b7be85">ufbinx()</a>, and <a class="el" href="ufbtab_8f.html#a4fb9c0d69c11bdc6e218f81de3dc6025">ufbtab()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_30c37837910170b6dae887e9df3b66a9.html">nceplibs-bufr</a></li><li class="navelem"><a class="el" href="dir_e81fc8df062d10d5f2b231f7e4ab81b8.html">src</a></li><li class="navelem"><a class="el" href="rewnbf_8f.html">rewnbf.f</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
