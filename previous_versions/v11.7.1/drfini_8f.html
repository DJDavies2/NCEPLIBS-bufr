<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-bufr: drfini.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NCEPLIBS-bufr<span id="projectnumber">&#160;11.7.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('drfini_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">drfini.f File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Initialize replication factors for delayed replication sequences.  
<a href="#details">More...</a></p>

<p><a href="drfini_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:ab9d63d7c2b99152be8e0809413adf621"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drfini_8f.html#ab9d63d7c2b99152be8e0809413adf621">drfini</a> (LUNIT, MDRF, NDRF, DRFTAG)</td></tr>
<tr class="memdesc:ab9d63d7c2b99152be8e0809413adf621"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine explicitly initializes delayed replication factors and allocates a corresponding amount of space within internal arrays, thereby allowing the subsequent use of subroutine <a class="el" href="ufbseq_8f.html#aa96ada82e0e2f98226594f3532bb245d" title="This subroutine reads or writes an entire sequence of data values from or to the BUFR data subset tha...">ufbseq()</a> to write data into delayed replication sequences.  <a href="drfini_8f.html#ab9d63d7c2b99152be8e0809413adf621">More...</a><br /></td></tr>
<tr class="separator:ab9d63d7c2b99152be8e0809413adf621"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Initialize replication factors for delayed replication sequences. </p>

<p class="definition">Definition in file <a class="el" href="drfini_8f_source.html">drfini.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="ab9d63d7c2b99152be8e0809413adf621" name="ab9d63d7c2b99152be8e0809413adf621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9d63d7c2b99152be8e0809413adf621">&#9670;&nbsp;</a></span>drfini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine drfini </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUNIT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dimension(ndrf)&#160;</td>
          <td class="paramname"><em>MDRF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NDRF</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*)&#160;</td>
          <td class="paramname"><em>DRFTAG</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine explicitly initializes delayed replication factors and allocates a corresponding amount of space within internal arrays, thereby allowing the subsequent use of subroutine <a class="el" href="ufbseq_8f.html#aa96ada82e0e2f98226594f3532bb245d" title="This subroutine reads or writes an entire sequence of data values from or to the BUFR data subset tha...">ufbseq()</a> to write data into delayed replication sequences. </p>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-05-14</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">LUNIT</td><td>&ndash; integer: Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">MDRF</td><td>&ndash; integer(*): Array of delayed replication factors, in one-to-one correspondence with the number of occurrences of DRFTAG within the overall subset definition, and explicitly defining how much space (i.e. how many replications) to allocate within each successive occurrence </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NDRF</td><td>&ndash; integer: Number of delayed replication factors within MDRF </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">DRFTAG</td><td>&ndash; character*(*): Table D sequence mnemonic, bracketed by appropriate delayed replication notation (e.g. {}, () OR &lt;&gt;)</td></tr>
  </table>
  </dd>
</dl>
<p >Logical unit LUNIT should have already been opened for output operations (i.e. writing/encoding BUFR) via a previous call to subroutine <a class="el" href="openbf_8f.html#a9bea9aeada166bd9037b959ca8452b28" title="This subroutine connects a new file to the BUFRLIB software for input or output operations.">openbf()</a>, and a message for output should have already been opened via a previous call to one of the [message-writing subroutines].</p>
<p >The use of this subroutine is only required when writing data into delayed replication sequences using <a class="el" href="ufbseq_8f.html#aa96ada82e0e2f98226594f3532bb245d" title="This subroutine reads or writes an entire sequence of data values from or to the BUFR data subset tha...">ufbseq()</a>, or for cases where <a class="el" href="ufbint_8f.html#afe3364a491b49e0c9e5a526b009aaa75" title="This subroutine reads or writes one or more data values from or to the BUFR data subset that is curre...">ufbint()</a> or <a class="el" href="ufbrep_8f.html#adb981832bdbbb26903265fb946aac58c" title="This subroutine reads or writes one or more data values from or to the BUFR data subset that is curre...">ufbrep()</a> are being used to write data into delayed replication sequences which occur more than once within an overall subset definition. In such cases, the use of this subroutine allows the application code to explicitly specify how many replications of the sequence are to be allocated to each occurrence of the delayed replication sequence within the overall subset definition, prior to storing all of the actual data values themselves via a single subsequent call to <a class="el" href="ufbint_8f.html#afe3364a491b49e0c9e5a526b009aaa75" title="This subroutine reads or writes one or more data values from or to the BUFR data subset that is curre...">ufbint()</a> or <a class="el" href="ufbrep_8f.html#adb981832bdbbb26903265fb946aac58c" title="This subroutine reads or writes one or more data values from or to the BUFR data subset that is curre...">ufbrep()</a>. In contrast, the use of this subroutine is not required when <a class="el" href="ufbint_8f.html#afe3364a491b49e0c9e5a526b009aaa75" title="This subroutine reads or writes one or more data values from or to the BUFR data subset that is curre...">ufbint()</a> or <a class="el" href="ufbrep_8f.html#adb981832bdbbb26903265fb946aac58c" title="This subroutine reads or writes one or more data values from or to the BUFR data subset that is curre...">ufbrep()</a> are to be called to store data values for a delayed replication sequence which only occurs one time within an overall subset definition, because in that case the same type of initialization and space allocation functionality will be automatically handled internally within subroutine <a class="el" href="ufbint_8f.html#afe3364a491b49e0c9e5a526b009aaa75" title="This subroutine reads or writes one or more data values from or to the BUFR data subset that is curre...">ufbint()</a> or <a class="el" href="ufbrep_8f.html#adb981832bdbbb26903265fb946aac58c" title="This subroutine reads or writes one or more data values from or to the BUFR data subset that is curre...">ufbrep()</a>.</p>
<p ><b>Program history log:</b> </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2002-05-14   </td><td class="markdownTableBodyNone">J. Woollen   </td><td class="markdownTableBodyNone">Original author    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2003-11-04   </td><td class="markdownTableBodyNone">S. Bender   </td><td class="markdownTableBodyNone">Added remarks and routine interdependencies    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2003-11-04   </td><td class="markdownTableBodyNone">D. Keyser   </td><td class="markdownTableBodyNone">Unified/portable for WRF; added history documentation; outputs more complete diagnostic info when routine terminates abnormally    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2005-03-04   </td><td class="markdownTableBodyNone">J. Ator   </td><td class="markdownTableBodyNone">Updated documentation    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2014-09-08   </td><td class="markdownTableBodyNone">J. Ator   </td><td class="markdownTableBodyNone">Increase NDRF limit from 100 to 200    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2014-12-10   </td><td class="markdownTableBodyNone">J. Ator   </td><td class="markdownTableBodyNone">Use modules instead of COMMON blocks    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2018-06-07   </td><td class="markdownTableBodyNone">J. Ator   </td><td class="markdownTableBodyNone">Increase NDRF limit from 200 to 2000   </td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="drfini_8f_source.html#l00062">62</a> of file <a class="el" href="drfini_8f_source.html">drfini.f</a>.</p>

<p class="reference">References <a class="el" href="bort_8f.html#a488d3a8cf930fb592a9fdaefcfa04ac4">bort()</a>, <a class="el" href="namespacemoda__tables.html#a0d02cd4fff2bdd0fbf7ec08a5cb6ce32">moda_tables::itp</a>, <a class="el" href="status_8f.html#a22292e7a69c411a961168198d259f336">status()</a>, <a class="el" href="namespacemoda__tables.html#a72f922bfc79b111f1bf8487defd6ea2b">moda_tables::tag</a>, and <a class="el" href="usrtpl_8f.html#a677bf700a4a6f0626a41921cd66d8ed9">usrtpl()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_30c37837910170b6dae887e9df3b66a9.html">nceplibs-bufr</a></li><li class="navelem"><a class="el" href="dir_e81fc8df062d10d5f2b231f7e4ab81b8.html">src</a></li><li class="navelem"><a class="el" href="drfini_8f.html">drfini.f</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
