<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-bufr: ufbmem.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NCEPLIBS-bufr<span id="projectnumber">&#160;11.7.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ufbmem_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">ufbmem.f File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Connect a new system file to the BUFRLIB software, and read the entire file contents into internal arrays.  
<a href="#details">More...</a></p>

<p><a href="ufbmem_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:aaa20a946a966bc4de8012e1a01461502"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ufbmem_8f.html#aaa20a946a966bc4de8012e1a01461502">ufbmem</a> (LUNIT, INEW, IRET, IUNIT)</td></tr>
<tr class="memdesc:aaa20a946a966bc4de8012e1a01461502"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine connects a new system file to the BUFRLIB software for input operations, then reads the entire file contents into internal arrays so that any of the individual BUFR messages can later be accessed from memory, instead of having to read them one at a time sequentially from the system file.  <a href="ufbmem_8f.html#aaa20a946a966bc4de8012e1a01461502">More...</a><br /></td></tr>
<tr class="separator:aaa20a946a966bc4de8012e1a01461502"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Connect a new system file to the BUFRLIB software, and read the entire file contents into internal arrays. </p>

<p class="definition">Definition in file <a class="el" href="ufbmem_8f_source.html">ufbmem.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="aaa20a946a966bc4de8012e1a01461502" name="aaa20a946a966bc4de8012e1a01461502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa20a946a966bc4de8012e1a01461502">&#9670;&nbsp;</a></span>ufbmem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ufbmem </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUNIT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>INEW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IRET</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IUNIT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine connects a new system file to the BUFRLIB software for input operations, then reads the entire file contents into internal arrays so that any of the individual BUFR messages can later be accessed from memory, instead of having to read them one at a time sequentially from the system file. </p>
<p >Any embedded DX BUFR tables contained within the file are also read and processed into separate internal arrays for later use.</p>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">LUNIT</td><td>&ndash; integer: Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">INEW</td><td>&ndash; integer: Processing option<ul>
<li>0 = Initialize the internal arrays, then read all BUFR messages from LUNIT into internal arrays</li>
<li>Otherwise, read all BUFR messages from LUNIT and append them to the existing messages within the internal arrays </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IRET</td><td>&ndash; integer: Number of BUFR messages that were read from LUNIT and stored into internal arrays </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">IUNIT</td><td>&ndash; integer: File status<ul>
<li>0 = LUNIT was empty, so no messages were read</li>
<li>Otherwise, the Fortran logical unit number to use for later access to any of the messages from the internal arrays</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p >Logical unit number LUNIT must already be associated with an actual filename on the local system, typically via a Fortran "OPEN" statement.</p>
<p >When INEW = 0, the output value IUNIT will be set equal to the input value LUNIT. Otherwise, the output value IUNIT will be set to the value of LUNIT that was input when this subroutine was previously called with INEW = 0, and the system file connected to LUNIT will be closed via an internal call to subroutine <a class="el" href="closbf_8f.html#a00c94986037d2cf27d04de7a1f8a3ebc" title="This subroutine closes the connection between logical unit LUNIT and the BUFRLIB software.">closbf()</a> before exiting this subroutine. In either case, IUNIT can now be used to access all BUFR messages that were read and stored by all previous calls to this subroutine. <br  />
</p>
<p ><b>Program history log:</b> </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1994-01-06   </td><td class="markdownTableBodyNone">J. Woollen   </td><td class="markdownTableBodyNone">Original author    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1998-07-08   </td><td class="markdownTableBodyNone">J. Woollen   </td><td class="markdownTableBodyNone">Replaced call to Cray library routine ABORT with call to new internal routine <a class="el" href="bort_8f.html#a488d3a8cf930fb592a9fdaefcfa04ac4" title="This subroutine calls subroutine errwrt() to log an error message, then calls subroutine bort_exit() ...">bort()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1999-11-18   </td><td class="markdownTableBodyNone">J. Woollen   </td><td class="markdownTableBodyNone">Increased MAXMEM from 4 Mb to 8 Mb    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2000-09-19   </td><td class="markdownTableBodyNone">J. Woollen   </td><td class="markdownTableBodyNone">Maximum message length increased from 10,000 to 20,000 bytes    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2001-08-15   </td><td class="markdownTableBodyNone">D. Keyser   </td><td class="markdownTableBodyNone">Increased MAXMEM from 8 Mb to 16 Mb    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2003-11-04   </td><td class="markdownTableBodyNone">S. Bender   </td><td class="markdownTableBodyNone">Added remarks and routine interdependencies    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2003-11-04   </td><td class="markdownTableBodyNone">D. Keyser   </td><td class="markdownTableBodyNone">Unified/portable for WRF; added documentation; outputs more complete diagnostic info when routine terminates abnormally; increased MAXMSG from 50000 to 200000    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2004-08-09   </td><td class="markdownTableBodyNone">J. Ator   </td><td class="markdownTableBodyNone">Maximum message length increased from 20,000 to 50,000 bytes    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2004-11-15   </td><td class="markdownTableBodyNone">D. Keyser   </td><td class="markdownTableBodyNone">Don't abort when there are either MAXMSG or MAXMEM is exceeded; instead, just store up to MAXMSG messages or MAXMEM bytes and print a diagnostic    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2005-11-29   </td><td class="markdownTableBodyNone">J. Ator   </td><td class="markdownTableBodyNone">Use <a class="el" href="rdmsgw_8f.html#aa1d21de28344723fc4848ec1cd14b094" title="THIS SUBROUTINE READS THE NEXT BUFR MESSAGE FROM LOGICAL UNIT LUNIT AS AN ARRAY OF INTEGER WORDS.">rdmsgw()</a> and <a class="el" href="nmwrd_8f.html#af955482010e67b333997227dc1118cfe" title="GIVEN AN INTEGER ARRAY CONTAINING SECTION ZERO FROM A BUFR MESSAGE, THIS FUNCTION DETERMINES A COUNT ...">nmwrd()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2009-03-23   </td><td class="markdownTableBodyNone">J. Ator   </td><td class="markdownTableBodyNone">Modified to handle embedded DX tables    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2012-09-15   </td><td class="markdownTableBodyNone">J. Woollen   </td><td class="markdownTableBodyNone">Modified for C/I/O/BUFR interface; call <a class="el" href="status_8f.html#a22292e7a69c411a961168198d259f336" title="This subroutine checks whether a specified Fortran logical unit number is currently connected to the ...">status()</a> to get LUN; replace Fortran REWIND and BACKSPACE with C routines <a class="el" href="cread_8c.html#a36a8ba0032660f65aadb84295bcccc41" title="This subroutine rewinds a BUFR file back to its beginning.">cewind()</a> and <a class="el" href="cread_8c.html#aebebafa9eeb07f82fc60ae0a8b43533e" title="This subroutine backspaces a BUFR file by one BUFR message.">backbufr()</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2014-12-10   </td><td class="markdownTableBodyNone">J. Ator   </td><td class="markdownTableBodyNone">Use modules instead of COMMON blocks    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2015-09-24   </td><td class="markdownTableBodyNone">D. Stokes   </td><td class="markdownTableBodyNone">Fix missing declaration of COMMON /QUIET/   </td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="ufbmem_8f_source.html#l00065">65</a> of file <a class="el" href="ufbmem_8f_source.html">ufbmem.f</a>.</p>

<p class="reference">References <a class="el" href="cread_8c.html#aebebafa9eeb07f82fc60ae0a8b43533e">backbufr()</a>, <a class="el" href="bort_8f.html#a488d3a8cf930fb592a9fdaefcfa04ac4">bort()</a>, <a class="el" href="cread_8c.html#a36a8ba0032660f65aadb84295bcccc41">cewind()</a>, <a class="el" href="closbf_8f.html#a00c94986037d2cf27d04de7a1f8a3ebc">closbf()</a>, <a class="el" href="cpdxmm_8f.html#a48f353028fb8bf77255b4dae476b9da7">cpdxmm()</a>, <a class="el" href="errwrt_8f.html#a65626d9a772648676146b62b596c2764">errwrt()</a>, <a class="el" href="idxmsg_8f.html#ab9276526fbe1b76bfa9f3d15f734c2b2">idxmsg()</a>, <a class="el" href="namespacemoda__msgmem.html#a114798339726bbb817e9bd63b98e32f4">moda_msgmem::ldxm</a>, <a class="el" href="namespacemoda__msgmem.html#a95d73c2d7e40c2d7a397f5a8f22bf7e6">moda_msgmem::ldxts</a>, <a class="el" href="namespacemodv__maxmem.html#a192ce24c9a3fcde6adc031114edacf48">modv_maxmem::maxmem</a>, <a class="el" href="namespacemodv__maxmsg.html#abdca3070a78956aa3647914cc733bbf9">modv_maxmsg::maxmsg</a>, <a class="el" href="namespacemoda__msgmem.html#a28dd4b56a539c88d2986170ec83a532f">moda_msgmem::mlast</a>, <a class="el" href="namespacemoda__msgmem.html#ab6edf6bdc7ccfa8b6be20e407a3262c4">moda_msgmem::msgp</a>, <a class="el" href="namespacemoda__msgmem.html#a03f1b3139e846c899bc32203ae991b17">moda_msgmem::msgs</a>, <a class="el" href="namespacemoda__msgmem.html#a64c89d306faeb4022758397f923d6ced">moda_msgmem::munit</a>, <a class="el" href="namespacemoda__msgmem.html#a3f0d636fdbdde987db3c43e66991cd96">moda_msgmem::ndxm</a>, <a class="el" href="namespacemoda__msgmem.html#aca5ac18fb9783e17067f5cbed511f57a">moda_msgmem::ndxts</a>, <a class="el" href="nmwrd_8f.html#af955482010e67b333997227dc1118cfe">nmwrd()</a>, <a class="el" href="openbf_8f.html#a9bea9aeada166bd9037b959ca8452b28">openbf()</a>, <a class="el" href="rdmsgw_8f.html#aa1d21de28344723fc4848ec1cd14b094">rdmsgw()</a>, and <a class="el" href="status_8f.html#a22292e7a69c411a961168198d259f336">status()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_30c37837910170b6dae887e9df3b66a9.html">nceplibs-bufr</a></li><li class="navelem"><a class="el" href="dir_e81fc8df062d10d5f2b231f7e4ab81b8.html">src</a></li><li class="navelem"><a class="el" href="ufbmem_8f.html">ufbmem.f</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
