<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-bufr: cktaba.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NCEPLIBS-bufr<span id="projectnumber">&#160;11.7.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('cktaba_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">cktaba.f File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="cktaba_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a137108e58830be769ba5b28072cf1b4c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cktaba_8f.html#a137108e58830be769ba5b28072cf1b4c">cktaba</a> (LUN, SUBSET, JDATE, IRET)</td></tr>
<tr class="memdesc:a137108e58830be769ba5b28072cf1b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">THIS SUBROUTINE PARSES THE TABLE A MNEMONIC AND THE DATE OUT OF SECTION 1 OF A BUFR MESSAGE PREVIOUSLY READ FROM UNIT LUNIT USING BUFR ARCHIVE LIBRARY SUBROUTINE READMG OR EQUIVALENT (AND NOW STORED IN THE INTERNAL MESSAGE BUFFER, ARRAY MBAY IN MODULE BITBUF).  <a href="cktaba_8f.html#a137108e58830be769ba5b28072cf1b4c">More...</a><br /></td></tr>
<tr class="separator:a137108e58830be769ba5b28072cf1b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>WOOLLEN </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2000-09-19 </dd></dl>

<p class="definition">Definition in file <a class="el" href="cktaba_8f_source.html">cktaba.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a137108e58830be769ba5b28072cf1b4c" name="a137108e58830be769ba5b28072cf1b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a137108e58830be769ba5b28072cf1b4c">&#9670;&nbsp;</a></span>cktaba()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cktaba </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*8&#160;</td>
          <td class="paramname"><em>SUBSET</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>JDATE</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IRET</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>THIS SUBROUTINE PARSES THE TABLE A MNEMONIC AND THE DATE OUT OF SECTION 1 OF A BUFR MESSAGE PREVIOUSLY READ FROM UNIT LUNIT USING BUFR ARCHIVE LIBRARY SUBROUTINE READMG OR EQUIVALENT (AND NOW STORED IN THE INTERNAL MESSAGE BUFFER, ARRAY MBAY IN MODULE BITBUF). </p>
<p >THE TABLE A MNEMONIC IS ASSOCIATED WITH THE BUFR MESSAGE TYPE/SUBTYPE IN SECTION 1. IT ALSO FILLS IN THE MESSAGE CONTROL WORD PARTITION ARRAYS IN MODULE MSGCWD.</p>
<p >PROGRAM HISTORY LOG: 2000-09-19 J. WOOLLEN &ndash; ORIGINAL AUTHOR - CONSOLIDATED MESSAGE DECODING LOGIC THAT HAD BEEN REPLICATED IN READMG, READFT, READERME, RDMEMM AND READIBM (CKTABA IS NOW CALLED BY THESE CODES); LOGIC ENHANCED HERE TO ALLOW COMPRESSED AND STANDARD BUFR MESSAGES TO BE READ 2003-11-04 S. BENDER &ndash; ADDED REMARKS/BUFRLIB ROUTINE INTERDEPENDENCIES 2003-11-04 D. KEYSER &ndash; MODIFIED TO NOT ABORT WHEN THE SECTION 1 MESSAGE SUBTYPE DOES NOT AGREE WITH THE SECTION 1 MESSAGE SUBTYPE IN THE DICTIONARY IF THE MESSAGE TYPE MNEMONIC IS NOT OF THE FORM "NCtttsss", WHERE ttt IS THE BUFR TYPE AND sss IS THE BUFR SUBTYPE (E.G., IN "PREPBUFR" FILES); MODIFIED DATE CALCULATIONS TO NO LONGER USE FLOATING POINT ARITHMETIC SINCE THIS CAN LEAD TO ROUND OFF ERROR AND AN IMPROPER RESULTING DATE ON SOME MACHINES (E.G., NCEP IBM FROST/SNOW), INCREASES PORTABILITY; UNIFIED/PORTABLE FOR WRF; ADDED DOCUMENTATION (INCLUDING HISTORY); OUTPUTS MORE COMPLETE DIAGNOSTIC INFO WHEN ROUTINE TERMINATES ABNORMALLY OR UNUSUAL THINGS HAPPEN; SUBSET DEFINED AS "        " IF IRET RETURNED AS 11 (BEFORE WAS UNDEFINED) 2004-08-09 J. ATOR &ndash; MAXIMUM MESSAGE LENGTH INCREASED FROM 20,000 TO 50,000 BYTES 2005-11-29 J. ATOR &ndash; USE IUPBS01, IGETDATE AND GETLENS 2006-04-14 J. ATOR &ndash; ALLOW "FRtttsss" AND "FNtttsss" AS POSSIBLE TABLE A MNEMONICS, WHERE ttt IS THE BUFR TYPE AND sss IS THE BUFR SUBTYPE 2009-03-23 J. ATOR &ndash; ADD LOGIC TO ALLOW SECTION 3 DECODING; USE IUPBS3 AND ERRWRT 2014-12-10 J. ATOR &ndash; USE MODULES INSTEAD OF COMMON BLOCKS</p>
<p >USAGE: CALL CKTABA (LUN, SUBSET, JDATE, IRET) INPUT ARGUMENT LIST: LUN - INTEGER: I/O STREAM INDEX INTO INTERNAL MEMORY ARRAYS</p>
<p >OUTPUT ARGUMENT LIST: SUBSET - CHARACTER*8: TABLE A MNEMONIC FOR TYPE OF BUFR MESSAGE BEING CHECKED: "        " = IRET equal to 11 (see IRET below) and not using Section 3 decoding JDATE - INTEGER: DATE-TIME STORED WITHIN SECTION 1 OF BUFR MESSAGE BEING CHECKED, IN FORMAT OF EITHER YYMMDDHH OR YYYYMMDDHH, DEPENDING ON DATELEN() VALUE IRET - INTEGER: RETURN CODE: 0 = normal return -1 = unrecognized Table A (message type) value 11 = this is a BUFR table (dictionary) message</p>
<p >REMARKS: THIS ROUTINE CALLS: BORT DIGIT ERRWRT GETLENS I4DY IGETDATE IUPB IUPBS01 IUPBS3 NEMTBAX NUMTAB OPENBT RDUSDX THIS ROUTINE IS CALLED BY: RDMEMM READERME READMG Normally not called by any application programs. </p>

<p class="definition">Definition at line <a class="el" href="cktaba_8f_source.html#l00075">75</a> of file <a class="el" href="cktaba_8f_source.html">cktaba.f</a>.</p>

<p class="reference">References <a class="el" href="bort_8f.html#a488d3a8cf930fb592a9fdaefcfa04ac4">bort()</a>, <a class="el" href="errwrt_8f.html#a65626d9a772648676146b62b596c2764">errwrt()</a>, <a class="el" href="getlens_8f.html#a15ffcb4cde43c73327fd3afb738078e2">getlens()</a>, <a class="el" href="i4dy_8f.html#a112153e4ebaab35d9d95d7a29534f48b">i4dy()</a>, <a class="el" href="igetdate_8f.html#a254f61bc732afa08b20c8526d96ab0c4">igetdate()</a>, <a class="el" href="iupb_8f.html#a3f8fa4b5261e85ecbf679208e7635c6c">iupb()</a>, <a class="el" href="iupbs01_8f.html#adcd6f7c2f898b4f938153c5cf79a9cf5">iupbs01()</a>, <a class="el" href="iupbs3_8f.html#a542e11287f9dc5bf72d3889db48e1b19">iupbs3()</a>, <a class="el" href="namespacemoda__bitbuf.html#a983cdfefb8e99f7ede13ce9f979bea3e">moda_bitbuf::mbay</a>, <a class="el" href="namespacemoda__bitbuf.html#a6bac74e064b4a8512f7f2599d0588dd3">moda_bitbuf::mbyt</a>, <a class="el" href="nemtbax_8f.html#adec9ab84d3bc51e082325e710354192e">nemtbax()</a>, <a class="el" href="numtab_8f.html#abe719d38067d3f869c1b200530fc92f9">numtab()</a>, <a class="el" href="openbt_8f.html#ae6c14e3ca6c75e5ee54424817fdd6199">openbt()</a>, and <a class="el" href="rdusdx_8f.html#ab4869b52a96f03ad2eb5328e71c25764">rdusdx()</a>.</p>

<p class="reference">Referenced by <a class="el" href="rdmemm_8f.html#a4632c7c4909bec051939264eaab54c66">rdmemm()</a>, <a class="el" href="readerme_8f.html#aa8235a5af5d22c265bbef3bb47c7fafa">readerme()</a>, and <a class="el" href="readmg_8f.html#a9fb3da32fb87bc017d16b9f0f707be9b">readmg()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_30c37837910170b6dae887e9df3b66a9.html">nceplibs-bufr</a></li><li class="navelem"><a class="el" href="dir_e81fc8df062d10d5f2b231f7e4ab81b8.html">src</a></li><li class="navelem"><a class="el" href="cktaba_8f.html">cktaba.f</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
