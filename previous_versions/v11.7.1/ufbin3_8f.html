<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-bufr: ufbin3.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NCEPLIBS-bufr<span id="projectnumber">&#160;11.7.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ufbin3_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">ufbin3.f File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="ufbin3_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a72601e4a59632fec50255a10b11f6278"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ufbin3_8f.html#a72601e4a59632fec50255a10b11f6278">ufbin3</a> (LUNIT, USR, I1, I2, I3, IRET, JRET, STR)</td></tr>
<tr class="memdesc:a72601e4a59632fec50255a10b11f6278"><td class="mdescLeft">&#160;</td><td class="mdescRight">THIS SUBROUTINE READS SPECIFIED VALUES FROM THE CURRENT BUFR DATA SUBSET WITHIN INTERNAL ARRAYS.  <a href="ufbin3_8f.html#a72601e4a59632fec50255a10b11f6278">More...</a><br /></td></tr>
<tr class="separator:a72601e4a59632fec50255a10b11f6278"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>WOOLLEN </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003-11-04 </dd></dl>

<p class="definition">Definition in file <a class="el" href="ufbin3_8f_source.html">ufbin3.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a72601e4a59632fec50255a10b11f6278" name="a72601e4a59632fec50255a10b11f6278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72601e4a59632fec50255a10b11f6278">&#9670;&nbsp;</a></span>ufbin3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ufbin3 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUNIT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2,i3)&#160;</td>
          <td class="paramname"><em>USR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>I1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>I2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>I3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IRET</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>JRET</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*)&#160;</td>
          <td class="paramname"><em>STR</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>THIS SUBROUTINE READS SPECIFIED VALUES FROM THE CURRENT BUFR DATA SUBSET WITHIN INTERNAL ARRAYS. </p>
<p >THE DATA VALUES CORRESPOND TO MNEMONICS WHICH ARE PART OF A MULTIPLE-REPLICATION SEQUENCE WITHIN ANOTHER MULTIPLE-REPLICATION SEQUENCE. THE INNER SEQUENCE IS USUALLY ASSOCIATED WITH DATA "LEVELS" AND THE OUTER SEQUENCE WITH DATA "EVENTS". THE BUFR FILE IN LOGICAL UNIT LUNIT MUST HAVE BEEN OPENED FOR INPUT VIA A PREVIOUS CALL TO BUFR ARCHIVE LIBRARY SUBROUTINE OPENBF. IN ADDITION, THE DATA SUBSET MUST HAVE SUBSEQUENTLY BEEN READ INTO THE INTERNAL BUFR ARCHIVE LIBRARY ARRAYS VIA CALLS TO BUFR ARCHIVE LIBRARY SUBROUTINE READMG OR READERME FOLLOWED BY A CALL TO BUFR ARCHIVE LIBRARY SUBROUTINE READSB (OR VIA A SINGLE CALL TO BUFR ARCHIVE LIBRARY SUBROUTINE READNS). THIS SUBROUTINE IS DESIGNED TO READ EVENT INFORMATION FROM "PREPFITS" TYPE BUFR FILES (BUT NOT FROM "PREPBUFR" TYPE FILES!!). PREPFITS FILES HAVE THE FOLLOWING BUFR TABLE EVENT STRUCTURE (NOTE SIXTEEN CHARACTERS HAVE BEEN REMOVED FROM THE LAST COLUMN TO ALLOW THE TABLE TO FIT IN THIS DOCBLOCK):</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">ADPUPA   </th><th class="markdownTableHeadNone">HEADR {PLEVL}    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HEADR   </td><td class="markdownTableBodyNone">SID XOB YOB DHR ELV TYP T29 ITP    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PLEVL   </td><td class="markdownTableBodyNone">CAT PRC PQM QQM TQM ZQM WQM CDTP_QM [OBLVL]    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">OBLVL   </td><td class="markdownTableBodyNone">SRC FHR &lt;PEVN&gt; &lt;QEVN&gt; &lt;TEVN&gt; &lt;ZEVN&gt; &lt;WEVN&gt; &lt;CEVN&gt;    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">OBLVL   </td><td class="markdownTableBodyNone">&lt;CTPEVN&gt;    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">PEVN   </td><td class="markdownTableBodyNone">POB PMO    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">QEVN   </td><td class="markdownTableBodyNone">QOB    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">TEVN   </td><td class="markdownTableBodyNone">TOB    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ZEVN   </td><td class="markdownTableBodyNone">ZOB    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WEVN   </td><td class="markdownTableBodyNone">UOB VOB    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">CEVN   </td><td class="markdownTableBodyNone">CAPE CINH LI    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CTPEVN   </td><td class="markdownTableBodyNone">CDTP GCDTT TOCC   </td></tr>
</table>
<p >NOTE THAT THE ONE-BIT DELAYED REPLICATED SEQUENCES "&lt;xxxx&gt;" ARE NESTED INSIDE THE EIGHT-BIT DELAYED REPLIATION EVENT SEQUENCES "[yyyy]". THE ANALOGOUS BUFR ARCHIVE LIBRARY SUBROUTINE UFBEVN DOES NOT WORK PROPERLY ON THIS TYPE OF EVENT STRUCTURE. IT WORKS ONLY ON THE EVENT STRUCTURE FOUND IN "PREPBUFR" TYPE BUFR FILES (SEE UFBEVN FOR MORE DETAILS). IN TURN, UFBIN3 DOES NOT WORK PROPERLY ON THE EVENT STRUCTURE FOUND IN PREPBUFR FILES (ALWAYS USE UFBEVN IN THIS CASE). ONE OTHER DIFFERENCE BETWEEN UFBIN3 AND UFBEVN IS THAT UFBIN3 RETURNS THE MAXIMUM NUMBER OF EVENTS FOUND FOR ALL DATA VALUES SPECIFIED AS AN OUTPUT ARGUMENT (JRET). UFBEVN DOES NOT DO THIS, BUT RATHER IT STORES THIS VALUE INTERNALLY IN COMMON BLOCK /UFBN3C/.</p>
<p >PROGRAM HISTORY LOG: 2003-11-04 J. WOOLLEN &ndash; ORIGINAL AUTHOR (WAS IN VERIFICATION VERSION) 2003-11-04 D. KEYSER &ndash; UNIFIED/PORTABLE FOR WRF; ADDED DOCUMENTATION; OUTPUTS MORE COMPLETE DIAGNOSTIC INFO WHEN ROUTINE TERMINATES ABNORMALLY OR UNUSUAL THINGS HAPPEN 2009-04-21 J. ATOR &ndash; USE ERRWRT 2014-12-10 J. ATOR &ndash; USE MODULES INSTEAD OF COMMON BLOCKS</p>
<p >USAGE: CALL UFBIN3 (LUNIT, USR, I1, I2, I3, IRET, JRET, STR) INPUT ARGUMENT LIST: LUNIT - INTEGER: FORTRAN LOGICAL UNIT NUMBER FOR BUFR FILE I1 - INTEGER: LENGTH OF FIRST DIMENSION OF USR (MUST BE AT LEAST AS LARGE AS THE NUMBER OF BLANK-SEPARATED MNEMONICS IN STR) I2 - INTEGER: LENGTH OF SECOND DIMENSION OF USR I3 - INTEGER: LENGTH OF THIRD DIMENSION OF USR (MAXIMUM VALUE IS 255) STR - CHARACTER*(*): STRING OF BLANK-SEPARATED TABLE B MNEMONICS IN ONE-TO-ONE CORRESPONDENCE WITH FIRST DIMENSION OF USR</p><ul>
<li>THERE ARE THREE "GENERIC" MNEMONICS NOT RELATED TO TABLE B, THESE RETURN THE FOLLOWING INFORMATION IN CORRESPONDING USR LOCATION: 'NUL' WHICH ALWAYS RETURNS BMISS ("MISSING") 'IREC' WHICH ALWAYS RETURNS THE CURRENT BUFR MESSAGE (RECORD) NUMBER IN WHICH THIS SUBSET RESIDES 'ISUB' WHICH ALWAYS RETURNS THE CURRENT SUBSET NUMBER OF THIS SUBSET WITHIN THE BUFR MESSAGE (RECORD) NUMBER 'IREC'</li>
</ul>
<p >OUTPUT ARGUMENT LIST: USR - REAL*8: (I1,I2,I3) STARTING ADDRESS OF DATA VALUES READ FROM DATA SUBSET IRET - INTEGER: NUMBER OF "LEVELS" OF DATA VALUES READ FROM DATA SUBSET (MUST BE NO LARGER THAN I2) JRET - INTEGER: MAXIMUM NUMBER OF "EVENTS" FOUND FOR ALL DATA VALUES SPECIFIED AMONGST ALL LEVELS READ FROM DATA SUBSET (MUST BE NO LARGER THAN I3)</p>
<p >REMARKS: IMPORTANT: THIS ROUTINE SHOULD ONLY BE CALLED BY THE VERIFICATION APPLICATION PROGRAM "GRIDTOBS", WHERE IT WAS PREVIOUSLY AN IN-LINE SUBROUTINE. IN GENERAL, UFBIN3 DOES NOT WORK PROPERLY IN OTHER APPLICATION PROGRAMS (I.E, THOSE THAT ARE READING PREPBUFR FILES) AT THIS TIME. ALWAYS USE UFBEVN INSTEAD!!</p>
<p >THIS ROUTINE CALLS: BORT CONWIN ERRWRT GETWIN NEVN NXTWIN STATUS STRING THIS ROUTINE IS CALLED BY: None SHOULD NOT BE CALLED BY ANY APPLICATION PROGRAMS EXCEPT GRIDTOBS!! </p>

<p class="definition">Definition at line <a class="el" href="ufbin3_8f_source.html#l00105">105</a> of file <a class="el" href="ufbin3_8f_source.html">ufbin3.f</a>.</p>

<p class="reference">References <a class="el" href="namespacemodv__bmiss.html#a4e62f0091102c93beac0252bdd591641">modv_bmiss::bmiss</a>, <a class="el" href="bort_8f.html#a488d3a8cf930fb592a9fdaefcfa04ac4">bort()</a>, <a class="el" href="conwin_8f.html#a550d792705db407874c5eedd94a603aa">conwin()</a>, <a class="el" href="errwrt_8f.html#a65626d9a772648676146b62b596c2764">errwrt()</a>, <a class="el" href="getwin_8f.html#a379c23a5975d8a605b4747586726f5b1">getwin()</a>, <a class="el" href="nevn_8f.html#abcd7250eb3adfa82e54d118e60ad88e3">nevn()</a>, <a class="el" href="nxtwin_8f.html#a1b2e79163137c3e4decd8b9219337f27">nxtwin()</a>, <a class="el" href="status_8f.html#a22292e7a69c411a961168198d259f336">status()</a>, and <a class="el" href="string_8f.html#ad5386a1e671ead372f1c087994b68438">string()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_30c37837910170b6dae887e9df3b66a9.html">nceplibs-bufr</a></li><li class="navelem"><a class="el" href="dir_e81fc8df062d10d5f2b231f7e4ab81b8.html">src</a></li><li class="navelem"><a class="el" href="ufbin3_8f.html">ufbin3.f</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
